/**
 * vue-cobra-router v1.0.2
 * (c) 2020 cobra
 * Released under the ISC License.
 */

var VueCobraRouter=function(t,e,n){"use strict";function a(t,e,n,a,r,o,i,s,l,u){"boolean"!=typeof i&&(l=s,s=i,i=!1);var c,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,r&&(f.functional=!0)),a&&(f._scopeId=a),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},f._ssrRegister=c):e&&(c=i?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(f.functional){var d=f.render;f.render=function(t,e){return c.call(e),d(t,e)}}else{var h=f.beforeCreate;f.beforeCreate=h?[].concat(h,c):[c]}return n}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r,o,i,s=a({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-link",t._b({attrs:{to:t.localizedTo()}},"router-link",t.$attrs,!1),[t._t("default")],2)},staticRenderFns:[]},undefined,{name:"LocalizedLink",props:["to"],methods:{localizedTo:function(){if("string"==typeof this.to)return this.$localizePath(this.to);if("object"==typeof this.to&&"string"==typeof this.to.path){var t=JSON.parse(JSON.stringify(this.to));return t.path=this.$localizePath(t.path),t}return this.to}}},undefined,false,undefined,!1,void 0,void 0,void 0),l=a({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.getTag(),{tag:"component",staticClass:"router-language-switcher"},[t._t("default",null,{links:t.getLinks()})],2)},staticRenderFns:[]},undefined,{name:"LanguageSwitcher",data:function(){return{currentUrl:this.url||this.$router.currentRoute.path}},props:["tag","active-class","url"],methods:{getTag:function(){return this.tag?this.tag:"div"},getLinks:function(){var t=[],e=this.activeClass||"router-active-language",n=this._langRouter.translations;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.push({activeClass:a==this.$i18n.locale?e:"",langIndex:a,langName:n[a].name||a,url:this.$localizePath(this.currentUrl,a)});return t}},watch:{$route:function(t){this.currentUrl=this.url||t.path}}},undefined,false,undefined,!1,void 0,void 0,void 0),u=[];function c(t,e){console.error("LangRouter: "+t),void 0!==e&&console.error(e)}var f=function(t){for(var e in o)o.hasOwnProperty(e)&&!i[e]&&(i[e]={});for(var a in i)i.hasOwnProperty(a)&&h(t.routes,a);var r=new n(t);return r.beforeEach(p),r};function d(e){return t.i18n.locale=e,document.querySelector("html").setAttribute("lang",e),localStorage.setItem("VueAppLanguage",e),e}function h(t,e,n){t.forEach((function(t){var a=g(t.path,e);n||(a="/"+e+("/"!=a.charAt(0)?"/":"")+a),t.alias?Array.isArray(t.alias)||(t.alias=[t.alias]):t.alias=[],t.path!=a&&-1==t.alias.indexOf(a)&&t.alias.push(a),t.children&&h(t.children,e,!0)}))}function p(e,n,a){var i=e.path.split("/")[1];if(!o[i]){var s=localStorage.getItem("VueAppLanguage");if(s&&o[s])i=s;else{var l=function(){function t(t){return t.split("-")[0].toLowerCase()}if(navigator.languages&&navigator.languages.length)return t(navigator.languages[0]||"");return t(navigator.language||navigator.browserLanguage||navigator.userLanguage||"")}();i=l&&o[l]?l:r}if(i!=r){var f=g(e.path,i);return f="/"+i+("/"!=f.charAt(0)?"/":"")+f,a(f)}}(function(e){return u.includes(e)?Promise.resolve(d(e)):(o[e]&&"function"==typeof o[e].load||c('Unable to load translations for "'+e+'", "load" function is missing!'),o[e].load().then((function(n){return t.i18n.setLocaleMessage(e,n.default||n),u.push(e),d(e)})).catch((function(t){c('Failed to load "'+e+'" translation.',t)})))})(i).then((function(){return a()}))}function g(t,e,n,a){var r=t.split("/");if(n&&i[n]){if(e==n)return t;var o=i[n],s={};Object.keys(o).forEach((function(t){s[o[t]]=t}));for(var l=a.split("/"),u=0;u<r.length;u++){var c=r[u];":"!=l[u].charAt(0)&&(r[u]=s[c]||c)}}for(var f=0;f<r.length;f++){var d=r[f];":"!=d.charAt(0)&&(r[f]=i[e][d]||d)}return r.join("/")}function v(e,n){n&&i[n]||(n=t.i18n.locale);var a=e.split("/"),o=!!i[a[1]]&&a[1],s=this.$router.currentRoute.path.split("/")[1];if(n==r&&!i[s]&&!o)return e;var l=!1;if(o){var u=this.$router.resolve(e);0!=u.route.matched.length?l="/"==(l=u.route.matched[u.route.matched.length-1].path).charAt(0)?l:"/"+l:c('Router could not resolve path "'+e+'". URL localization may not work as expected.'),a.splice(1,1),e=a.join("/")}var f=g(e,n,o,l||e);return f="/"+n+("/"!=f.charAt(0)?"/":"")+f}function m(t){return void 0===t}f.install=function(a,d){if(f.installed)c("Already installed.");else{var h;f.installed=!0,d||c("Options missing."),r=d.defaultLanguage,o=d.translations,i=d.localizedURLs||{},((h=Array.isArray(o))||"object"!=typeof o)&&c("options.translations should be an object, received "+(h?"array":typeof o)+" instead."),((h=Array.isArray(i))||"object"!=typeof i)&&c("options.localizedURLs should be an object, received "+(h?"array":typeof i)+" instead."),"string"!=typeof r&&c("options.defaultLanguage should be a string, received "+typeof r+" instead."),a.use(e),a.use(n);var p={};for(var g in o)if(o.hasOwnProperty(g)){var m=o[g].messages;"object"!=typeof m||Array.isArray(m)||(p[g]=o[g].messages,u.push(g))}t.i18n=new e({locale:r,fallbackLocale:r,messages:p}),a.prototype._langRouter={translations:o},a.prototype.$localizePath=v,a.component("localized-link",s),a.component("language-switcher",l)}},"undefined"!=typeof window&&window.Vue&&window.Vue.use(f);var y=function(){};return y.install=function(t){t.__vuemeta_installed||(t.__metainfo_installed=!0,t.mixin({beforeCreate:function(){var t=this.$options;t.metaInfo&&("function"==typeof t.metaInfo?(t.computed=t.computed||{},t.computed.$metaInfo=t.metaInfo,this.$on("hook:created",(function(){document.title=this.$metaInfo.title,this.$watch("$metaInfo",(function(){document.title=this.$metaInfo.title}))}))):document.title=t.metaInfo.title)}}))},m(window)||m(window.Vue)||y.install(window.Vue),t.VueLangRouter=f,t.VueMetaInfo=y,t}({},VueI18n,VueRouter);
